"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)}function AppViewModel(){var r=this;r.currentTag=ko.observable("all"),r.tagTypes=ko.observableArray(),r.tagNames=ko.observableArray(),r.topLeftNavbarData=ko.observableArray(),r.topRightNavbarData=ko.observableArray(),r.mainNavbar=ko.observableArray(),r.itemsCarousel=ko.observableArray(),r.itemsOffer=ko.observableArray(),r.itemsCategory=ko.observable(),r.itemsCategoryModal=ko.observableArray(),r.itemsFeatured=ko.observable(),r.itemsAdvantage=ko.observableArray(),r.itemsBlog=ko.observable(),r.itemsLogo=ko.observableArray(),r.itemsFooter=ko.observableArray(),Galleria.loadTheme("https://cdnjs.cloudflare.com/ajax/libs/galleria/1.5.7/themes/classic/galleria.classic.min.js"),Galleria.configure({transition:"fade",imageCrop:!0,keepSource:!0}),r.openGalleriaModal=function(e){var a="https://pixabay.com/api/?key=9473991-512a79378af31d26b8ed5c7c0&q="+encodeURIComponent("succulents in pot")+"&image_type=photo&orienation=horizontal&category=nature&per_page="+e+"&pretty=true";$.getJSON(a,function(e){0<parseInt(e.totalHits,10)?r.itemsCategoryModal(e.hits):console.log("No hits"),Galleria.run("#galleria",{dataSource:r.itemsCategoryModal().map(function(e){return{image:e.largeImageURL}})})});var t=document.getElementsByClassName("myModal");$(t).fadeIn(500)},r.closeModal=function(){var e=document.getElementsByClassName("modal");$(e[0]).fadeOut(500)},$.getJSON("assets/json/data.json",function(e){var a=e.homepage.allInfo;r.topLeftNavbarData(a.header.topNavbar.leftNav.items),r.topRightNavbarData(a.header.topNavbar.rightNav.items),r.mainNavbar(a.header.mainNavbar),r.itemsCarousel(a.carousel.items),r.itemsOffer(a.offers.items),r.itemsFeatured(a.featured),r.itemsAdvantage(a.advantages.items),r.itemsBlog(a.blog),r.itemsLogo(a.logos.items),r.itemsCategory(a.categories),r.itemsFooter(a.footer),r.tagTypes(a.featured.items.reduce(function(e,a){return e.concat(a.itemType)},[]).filter(function(e,a,t){return t.indexOf(e)===a})),r.tagNames(r.tagTypes().map(function(e){return{title:(e[0].toUpperCase()+e.slice(1)).replace(/([A-z])([A-Z])/g,"$1 $2"),active:ko.observable(e)}}))}),r.showItems=function(e,a){console.log("tag, i",e,a,r.tagNames()[a]),e===r.currentTag()?r.currentTag("all"):r.currentTag(e);var t=[].concat(_toConsumableArray(r.tagNames()));t[a].active(e),r.tagNames(t)}}$(document).on("click",function(e){$(e.target).has(".galleria").length&&$(".modal").fadeOut(500)}),$(function(){var e=$(".featured li");$.each(e,function(e,a){$(a).on("click",function(){var e=$(this);e.hasClass("active")?e.removeClass("active"):(e.siblings().removeClass("active"),e.addClass("active"))})})}),ko.bindingHandlers.fadeVisible={init:function(e,a){var t=a();$(e).toggle(t)},update:function(e,a){a()?$(e).show(500):$(e).hide(500)}},ko.applyBindings(new AppViewModel);